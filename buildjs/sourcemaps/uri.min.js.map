{"version":3,"sources":["uri.min.js"],"names":["Uri","this","protocol","location","host","hostname","port","path","removeTrailingSlash","pathname","queryString","search","replace","hash","Object","defineProperty","prototype","get","base","enumerable","configurable","url","Base","href","QueryString","length","hashString","Hash","Origin","queryDictionary","result","params","split","i","keyValue","key","value","Dictionary","parameter","name","Parameters","lastIndex","lastChar","charAt","slice"],"mappings":"AACA,YACA,IAAIA,KAAO,WACP,QAASA,KACLC,KAAKC,SAAWC,SAASD,SACzBD,KAAKG,KAAOD,SAASE,SACrBJ,KAAKK,KAAOH,SAASG,MAAQ,MAC7BL,KAAKM,KAAON,KAAKO,oBAAoBL,SAASM,UAC9CR,KAAKS,YAAcP,SAASQ,OAAOC,QAAQ,IAAK,IAChDX,KAAKY,KAAOV,SAASU,KAAKD,QAAQ,IAAK,IA8G3C,MA5GAE,QAAOC,eAAef,EAAIgB,UAAW,QAIjCC,IAAK,WAID,MAHiB,OAAbhB,KAAKiB,OACLjB,KAAKiB,KAAOjB,KAAKC,SAAW,KAAOD,KAAKG,KAAO,IAAMH,KAAKK,MAEvDL,KAAKiB,MAEhBC,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAef,EAAIgB,UAAW,UAIjCC,IAAK,WAID,MAHgB,OAAZhB,KAAKoB,MACLpB,KAAKoB,IAAM,GAAKpB,KAAKqB,KAAOrB,KAAKM,MAE9BN,KAAKoB,KAEhBF,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAef,EAAIgB,UAAW,QAIjCC,IAAK,WACD,GAAiB,MAAbhB,KAAKsB,KAAc,CACnB,GAAIb,GAAcT,KAAKuB,YAAYC,OAAS,EACtC,IAAMxB,KAAKuB,YACX,GACFE,EAAazB,KAAK0B,KAAKF,OAAS,EAC9B,IAAMxB,KAAK0B,KACX,EACN1B,MAAKsB,KAAO,GAAKtB,KAAK2B,OAASlB,EAAcgB,EAEjD,MAAOzB,MAAKsB,MAEhBJ,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAef,EAAIgB,UAAW,eAIjCC,IAAK,WACD,MAAOhB,MAAKS,aAEhBS,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAef,EAAIgB,UAAW,QAIjCC,IAAK,WACD,MAAOhB,MAAKY,MAEhBM,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAef,EAAIgB,UAAW,cAIjCC,IAAK,WACD,GAA4B,MAAxBhB,KAAK4B,gBAAyB,CAG9B,IAAK,GAFDC,MACAC,EAAS9B,KAAKuB,YAAYQ,MAAM,KAC3BC,EAAI,EAAGA,EAAIF,EAAON,SAAUQ,EAAG,CACpC,GAAIC,GAAWH,EAAOE,GAAGD,MAAM,KAC3BG,EAAMD,EAAS,GACfE,EAAQF,EAAS,EACrBJ,GAAOK,GAAOC,EAElBnC,KAAK4B,gBAAkB,GAAIQ,YAAWP,GAE1C,MAAO7B,MAAK4B,iBAEhBV,YAAY,EACZC,cAAc,IAMlBpB,EAAIgB,UAAUsB,UAAY,SAAUC,GAChC,GAAIT,GAAS7B,KAAKuC,WAAWD,EAC7B,OAAOT,IAMX9B,EAAIgB,UAAUR,oBAAsB,SAAUD,GAC1C,GAAIkC,GAAYlC,EAAKkB,OAAS,CAC9B,IAAIgB,GAAa,EAAG,CAChB,GAAIC,GAAWnC,EAAKoC,OAAOF,EACV,OAAbC,GACAnC,EAAKqC,MAAMH,GAGnB,MAAOlC,IAEJP","file":"uri.min.js","sourcesContent":["/// <reference path=\"./dictionary.ts\" />\n'use-strict';\nvar Uri = (function () {\n    function Uri() {\n        this.protocol = location.protocol;\n        this.host = location.hostname;\n        this.port = location.port || '443';\n        this.path = this.removeTrailingSlash(location.pathname);\n        this.queryString = location.search.replace('?', '');\n        this.hash = location.hash.replace('#', '');\n    }\n    Object.defineProperty(Uri.prototype, \"Base\", {\n        /**\n         * Example: https://www.domain.com:443\n         */\n        get: function () {\n            if (this.base == null) {\n                this.base = this.protocol + \"//\" + this.host + \":\" + this.port;\n            }\n            return this.base;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Uri.prototype, \"Origin\", {\n        /**\n         * Example: https://www.domain.com:443/path/name\n         */\n        get: function () {\n            if (this.url == null) {\n                this.url = \"\" + this.Base + this.path;\n            }\n            return this.url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Uri.prototype, \"Href\", {\n        /**\n         * Example: https://www.domain.com:443/path/name?query=string#hash\n         */\n        get: function () {\n            if (this.href == null) {\n                var queryString = this.QueryString.length > 0\n                    ? \"?\" + this.QueryString\n                    : '';\n                var hashString = this.Hash.length > 0\n                    ? \"#\" + this.Hash\n                    : '';\n                this.href = \"\" + this.Origin + queryString + hashString;\n            }\n            return this.href;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Uri.prototype, \"QueryString\", {\n        /**\n         * Example: query=string\n         */\n        get: function () {\n            return this.queryString;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Uri.prototype, \"Hash\", {\n        /**\n         * Example: hash\n         */\n        get: function () {\n            return this.hash;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Uri.prototype, \"Parameters\", {\n        /**\n         * Query parameters as a Dictionary.\n         */\n        get: function () {\n            if (this.queryDictionary == null) {\n                var result = {};\n                var params = this.QueryString.split('&');\n                for (var i = 0; i < params.length; ++i) {\n                    var keyValue = params[i].split('=');\n                    var key = keyValue[0];\n                    var value = keyValue[1];\n                    result[key] = value;\n                }\n                this.queryDictionary = new Dictionary(result);\n            }\n            return this.queryDictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Returns the value of the specified query parameter.\n     * @param {string} name\n     */\n    Uri.prototype.parameter = function (name) {\n        var result = this.Parameters[name];\n        return result;\n    };\n    /**\n     * Removes the trailing slash from a url.\n     * @param {string} path\n     */\n    Uri.prototype.removeTrailingSlash = function (path) {\n        var lastIndex = path.length - 1;\n        if (lastIndex >= 0) {\n            var lastChar = path.charAt(lastIndex);\n            if (lastChar === '/') {\n                path.slice(lastIndex);\n            }\n        }\n        return path;\n    };\n    return Uri;\n}());\n"],"sourceRoot":"/source/"}